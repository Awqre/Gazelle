{{ header('Tracker info') }}
<div class="thin">
    <div class="header">
        <h2>Tracker info</h2>
    </div>
    <div class="linkbox">
        <a href="?action={{ action }}" class="brackets" />Main stats</a>
    </div>
    <div class="sidebar">
        <div class="box box2">
            <div class="head"><strong>User stats</strong></div>
            <div class="pad">
                <form method="get" action="">
                    <input type="hidden" name="action" value="ocelot_info" />
                    <label for="userid">Get stats for user (id or @username)</label><br /><br />
                    <input type="text" id="userid" name="userid" placeholder="User ID" value="{{ user_id }}" /><br /><br />
                    <input type="submit" value="Go" />
                </form>
            </div>
        </div>
    </div>
    <div class="main_column">
        <div class="box box2">
            <div class="head"><strong>Numbers and such</strong></div>
            <div class="pad">
{% if user_id and user_stats|length %}
            <table>
            <tr>
                <td class="label">User</td>
                <td>{{ user_stats.id|user_full }}
            </tr>
            <tr>
                <td class="label">Leeching</td>
                <td>{{ user_stats.leeching|number_format }}</td>
            </tr>
            <tr>
                <td class="label">Seeding</td>
                <td>{{ user_stats.seeding|number_format }}</td>
            </tr>
            <tr>
                <td class="label">Info</td>
                <td>
                    Allowed: {{ user_stats.can_leech }}<br />
                    Hidden: {{ user_stats.protected }}<br />
                    Deleted: {{ user_stats.deleted }}<br />
                </td>
            </tr>
            </table>
{% elseif user_id %}
                User id {{ user_id }} is not known to the tracker.
{% elseif main_stats %}
    {% for key, value in main_stats %}
                {%- if key in ["uptime", "version"] -%}
                     {{ key }} {{ value }}
                {%- elseif key starts with "bytes " -%}
                    {{ value|octet_size }} {{ key }}
                {%- else -%}
                    {{ value|number_format }} {{ key }}
                {%- endif %}
                <br />
    {% endfor %}
{% else %}
                Failed to get tracker info
{% endif %}
            </div>
        </div>
    </div>
</div>
{{ footer() }}
